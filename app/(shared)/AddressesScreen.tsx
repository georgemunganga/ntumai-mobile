import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  FlatList,\n  Alert,\n} from 'react-native';\nimport { useRouter } from 'expo-router';\nimport { useUserStore } from '../../src/store';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function AddressesScreen() {\n  const router = useRouter();\n  const { addresses } = useUserStore();\n  const [selectedAddressId, setSelectedAddressId] = useState(addresses[0]?.id);\n\n  const handleDeleteAddress = (id: string) => {\n    Alert.alert('Delete Address', 'Are you sure you want to delete this address?', [\n      { text: 'Cancel', onPress: () => {} },\n      {\n        text: 'Delete',\n        onPress: () => {\n          // Delete logic here\n        },\n        style: 'destructive',\n      },\n    ]);\n  };\n\n  return (\n    <View className=\"flex-1 bg-white\">\n      {/* Header */}\n      <View className=\"px-6 py-4 border-b border-gray-200 flex-row items-center\">\n        <TouchableOpacity onPress={() => router.back()} className=\"mr-4\">\n          <Feather name=\"chevron-left\" size={24} color=\"#1F2937\" />\n        </TouchableOpacity>\n        <View className=\"flex-1\">\n          <Text className=\"text-2xl font-bold text-gray-900\">Addresses</Text>\n          <Text className=\"text-gray-600 text-sm\">{addresses.length} saved</Text>\n        </View>\n        <TouchableOpacity\n          onPress={() => router.push('/(shared)/AddAddressScreen')}\n          className=\"bg-green-600 rounded-lg p-3\"\n        >\n          <Feather name=\"plus\" size={20} color=\"white\" />\n        </TouchableOpacity>\n      </View>\n\n      {/* Addresses List */}\n      <FlatList\n        data={addresses}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <TouchableOpacity\n            onPress={() => setSelectedAddressId(item.id)}\n            className={`px-6 py-4 border-b border-gray-100 ${\n              selectedAddressId === item.id ? 'bg-green-50' : ''\n            }`}\n          >\n            <View className=\"flex-row items-start justify-between\">\n              <View className=\"flex-row items-start flex-1\">\n                <View className={`w-6 h-6 rounded-full border-2 items-center justify-center mr-4 mt-1 ${\n                  selectedAddressId === item.id\n                    ? 'border-green-600 bg-green-600'\n                    : 'border-gray-300'\n                }`}>\n                  {selectedAddressId === item.id && (\n                    <Feather name=\"check\" size={14} color=\"white\" />\n                  )}\n                </View>\n                <View className=\"flex-1\">\n                  <View className=\"flex-row items-center mb-1\">\n                    <Text className=\"text-lg font-bold text-gray-900 uppercase\">\n                      {item.type}\n                    </Text>\n                    {item.isDefault && (\n                      <View className=\"bg-blue-100 rounded-full px-2 py-1 ml-2\">\n                        <Text className=\"text-blue-700 text-xs font-bold\">Default</Text>\n                      </View>\n                    )}\n                  </View>\n                  <Text className=\"text-gray-900 font-semibold\">\n                    {item.street}\n                  </Text>\n                  <Text className=\"text-gray-600 text-sm\">\n                    {item.city}, {item.state} {item.zipCode}\n                  </Text>\n                  <Text className=\"text-gray-600 text-sm\">\n                    {item.country}\n                  </Text>\n                </View>\n              </View>\n              <View className=\"flex-row gap-2\">\n                <TouchableOpacity\n                  onPress={() => router.push(`/(shared)/EditAddressScreen?addressId=${item.id}`)}\n                  className=\"bg-blue-100 p-2 rounded-lg\"\n                >\n                  <Feather name=\"edit-2\" size={16} color=\"#2563EB\" />\n                </TouchableOpacity>\n                <TouchableOpacity\n                  onPress={() => handleDeleteAddress(item.id)}\n                  className=\"bg-red-100 p-2 rounded-lg\"\n                >\n                  <Feather name=\"trash-2\" size={16} color=\"#EF4444\" />\n                </TouchableOpacity>\n              </View>\n            </View>\n          </TouchableOpacity>\n        )}\n      />\n    </View>\n  );\n}\n
