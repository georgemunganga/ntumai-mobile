import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  FlatList,\n  Alert,\n} from 'react-native';\nimport { useRouter } from 'expo-router';\nimport { Feather } from '@expo/vector-icons';\n\nexport default function PaymentMethodsScreen() {\n  const router = useRouter();\n  const [paymentMethods, setPaymentMethods] = useState([\n    {\n      id: '1',\n      type: 'card',\n      cardType: 'Visa',\n      lastFour: '4242',\n      expiryDate: '12/25',\n      holderName: 'John Doe',\n      isDefault: true,\n    },\n    {\n      id: '2',\n      type: 'card',\n      cardType: 'Mastercard',\n      lastFour: '5555',\n      expiryDate: '08/26',\n      holderName: 'John Doe',\n      isDefault: false,\n    },\n    {\n      id: '3',\n      type: 'wallet',\n      walletName: 'Mobile Money',\n      walletNumber: '0712345678',\n      provider: 'MTN',\n      isDefault: false,\n    },\n  ]);\n  const [selectedMethodId, setSelectedMethodId] = useState('1');\n\n  const handleDeleteMethod = (id: string) => {\n    Alert.alert('Delete Payment Method', 'Are you sure?', [\n      { text: 'Cancel', onPress: () => {} },\n      {\n        text: 'Delete',\n        onPress: () => setPaymentMethods(paymentMethods.filter(m => m.id !== id)),\n        style: 'destructive',\n      },\n    ]);\n  };\n\n  const handleSetDefault = (id: string) => {\n    setPaymentMethods(paymentMethods.map(m => ({\n      ...m,\n      isDefault: m.id === id,\n    })));\n  };\n\n  return (\n    <View className=\"flex-1 bg-white\">\n      {/* Header */}\n      <View className=\"px-6 py-4 border-b border-gray-200 flex-row items-center\">\n        <TouchableOpacity onPress={() => router.back()} className=\"mr-4\">\n          <Feather name=\"chevron-left\" size={24} color=\"#1F2937\" />\n        </TouchableOpacity>\n        <View className=\"flex-1\">\n          <Text className=\"text-2xl font-bold text-gray-900\">Payment Methods</Text>\n          <Text className=\"text-gray-600 text-sm\">{paymentMethods.length} saved</Text>\n        </View>\n        <TouchableOpacity\n          onPress={() => router.push('/(shared)/AddPaymentMethodScreen')}\n          className=\"bg-green-600 rounded-lg p-3\"\n        >\n          <Feather name=\"plus\" size={20} color=\"white\" />\n        </TouchableOpacity>\n      </View>\n\n      {/* Payment Methods List */}\n      <FlatList\n        data={paymentMethods}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => {\n          const isCard = item.type === 'card';\n          return (\n            <View className=\"px-6 py-4 border-b border-gray-100\">\n              <TouchableOpacity\n                onPress={() => setSelectedMethodId(item.id)}\n                className={`border-2 rounded-lg p-4 ${\n                  selectedMethodId === item.id\n                    ? 'border-green-600 bg-green-50'\n                    : 'border-gray-200'\n                }`}\n              >\n                <View className=\"flex-row items-start justify-between mb-3\">\n                  <View className=\"flex-row items-center flex-1\">\n                    <View className={`w-12 h-12 rounded-lg items-center justify-center mr-3 ${\n                      isCard ? 'bg-blue-100' : 'bg-purple-100'\n                    }`}>\n                      <Feather\n                        name={isCard ? 'credit-card' : 'smartphone'}\n                        size={24}\n                        color={isCard ? '#2563EB' : '#7C3AED'}\n                      />\n                    </View>\n                    <View className=\"flex-1\">\n                      {isCard ? (\n                        <>\n                          <Text className=\"text-lg font-bold text-gray-900\">\n                            {item.cardType} •••• {item.lastFour}\n                          </Text>\n                          <Text className=\"text-gray-600 text-sm\">\n                            Expires {item.expiryDate}\n                          </Text>\n                        </>\n                      ) : (\n                        <>\n                          <Text className=\"text-lg font-bold text-gray-900\">\n                            {item.provider} {item.walletName}\n                          </Text>\n                          <Text className=\"text-gray-600 text-sm\">\n                            {item.walletNumber}\n                          </Text>\n                        </>\n                      )}\n                    </View>\n                  </View>\n                  {selectedMethodId === item.id && (\n                    <Feather name=\"check-circle\" size={24} color=\"#16A34A\" />\n                  )}\n                </View>\n\n                {/* Actions */}\n                <View className=\"flex-row items-center justify-between pt-3 border-t border-gray-200\">\n                  <View className=\"flex-row items-center gap-2\">\n                    {item.isDefault && (\n                      <View className=\"bg-blue-100 rounded-full px-3 py-1\">\n                        <Text className=\"text-blue-700 text-xs font-bold\">Default</Text>\n                      </View>\n                    )}\n                  </View>\n                  <View className=\"flex-row gap-2\">\n                    {!item.isDefault && (\n                      <TouchableOpacity\n                        onPress={() => handleSetDefault(item.id)}\n                        className=\"bg-green-100 px-3 py-2 rounded-lg\"\n                      >\n                        <Text className=\"text-green-700 text-xs font-bold\">Set Default</Text>\n                      </TouchableOpacity>\n                    )}\n                    <TouchableOpacity\n                      onPress={() => handleDeleteMethod(item.id)}\n                      className=\"bg-red-100 p-2 rounded-lg\"\n                    >\n                      <Feather name=\"trash-2\" size={16} color=\"#EF4444\" />\n                    </TouchableOpacity>\n                  </View>\n                </View>\n              </TouchableOpacity>\n            </View>\n          );\n        }}\n      />\n    </View>\n  );\n}\n
