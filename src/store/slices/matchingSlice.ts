// Matching store slice for auto-matching\nimport { create } from 'zustand';\nimport { matchingMockService } from '../../api/mockServices.extended';\n\ninterface MatchingState {\n  isMatching: boolean;\n  matchedTasker: any | null;\n  availableTaskers: any[];\n  estimatedWaitTime: string;\n  estimatedEarnings: number;\n  estimatedArrival: number;\n  matchingError: string | null;\n  matchingProgress: number; // 0-100\n\n  // Actions\n  startMatching: (jobData: any) => Promise<void>;\n  cancelMatching: () => void;\n  updateMatchingProgress: (progress: number) => void;\n  setMatchedTasker: (tasker: any) => void;\n  getAvailableTaskers: (location: any) => Promise<void>;\n  clearMatching: () => void;\n}\n\nexport const useMatchingStore = create<MatchingState>((set) => ({\n  isMatching: false,\n  matchedTasker: null,\n  availableTaskers: [],\n  estimatedWaitTime: '2-3 minutes',\n  estimatedEarnings: 0,\n  estimatedArrival: 0,\n  matchingError: null,\n  matchingProgress: 0,\n\n  startMatching: async (jobData: any) => {\n    set({ isMatching: true, matchingError: null, matchingProgress: 0 });\n\n    try {\n      // Simulate matching progress\n      set({ matchingProgress: 25 });\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      set({ matchingProgress: 50 });\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      // Get matched tasker\n      const response = await matchingMockService.findTasker(jobData);\n      if (response.success) {\n        set({\n          matchedTasker: response.data,\n          estimatedEarnings: response.data.estimatedEarnings,\n          estimatedArrival: response.data.estimatedArrival,\n          matchingProgress: 100,\n        });\n      }\n\n      set({ isMatching: false });\n    } catch (error) {\n      set({\n        matchingError: error instanceof Error ? error.message : 'Matching failed',\n        isMatching: false,\n      });\n    }\n  },\n\n  cancelMatching: () => {\n    set({\n      isMatching: false,\n      matchedTasker: null,\n      matchingProgress: 0,\n    });\n  },\n\n  updateMatchingProgress: (progress: number) => {\n    set({ matchingProgress: Math.min(progress, 100) });\n  },\n\n  setMatchedTasker: (tasker: any) => {\n    set({ matchedTasker: tasker });\n  },\n\n  getAvailableTaskers: async (location: any) => {\n    try {\n      const response = await matchingMockService.getAvailableTaskers(location);\n      if (response.success) {\n        set({ availableTaskers: response.data });\n      }\n    } catch (error) {\n      set({\n        matchingError: error instanceof Error ? error.message : 'Failed to get taskers',\n      });\n    }\n  },\n\n  clearMatching: () => {\n    set({\n      isMatching: false,\n      matchedTasker: null,\n      availableTaskers: [],\n      matchingProgress: 0,\n      matchingError: null,\n    });\n  },\n}));\n
