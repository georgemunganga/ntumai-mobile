import React from 'react';\nimport { View, Text, ActivityIndicator } from 'react-native';\nimport { useRouter } from 'expo-router';\nimport { useAuthStore } from '../store';\n\nexport function RoleBasedNavigator() {\n  const router = useRouter();\n  const { user, isAuthenticated, isLoading } = useAuthStore();\n\n  React.useEffect(() => {\n    if (isLoading) return;\n\n    if (!isAuthenticated || !user) {\n      router.replace('/(auth)/SplashScreen');\n      return;\n    }\n\n    // Route based on user role\n    switch (user.role) {\n      case 'customer':\n        router.replace('/(customer)/Home');\n        break;\n      case 'tasker':\n        router.replace('/(tasker)/DriverDashboard');\n        break;\n      case 'vendor':\n        router.replace('/(vendor)/VendorDashboard');\n        break;\n      default:\n        router.replace('/(auth)/RoleSelection');\n    }\n  }, [isAuthenticated, user, isLoading]);\n\n  if (isLoading) {\n    return (\n      <View className=\"flex-1 items-center justify-center bg-white\">\n        <ActivityIndicator size=\"large\" color=\"#16A34A\" />\n        <Text className=\"mt-4 text-gray-600\">Loading...</Text>\n      </View>\n    );\n  }\n\n  return null;\n}\n\n/**\n * Navigation Routes by Role:\n *\n * CUSTOMER:\n * - /(customer)/Home - Main dashboard\n * - /(customer)/Marketplace - Browse vendors\n * - /(customer)/VendorDetail - View vendor products\n * - /(customer)/Cart - Shopping cart\n * - /(customer)/CheckoutScreen - Checkout\n * - /(customer)/OrderTrackingScreen - Track orders\n * - /(customer)/SendParcelScreen - P2P delivery\n * - /(customer)/DeliveryTrackingScreen - Track deliveries\n * - /(customer)/DoTaskScreen - Create tasks\n * - /(customer)/TaskDetail - View task details\n * - /(shared)/WalletScreen - Wallet\n * - /(shared)/ProfileScreen - Profile\n * - /(shared)/EditProfileScreen - Edit profile\n * - /(shared)/AddressesScreen - Manage addresses\n * - /(shared)/PaymentMethodsScreen - Payment methods\n *\n * TASKER/DRIVER:\n * - /(tasker)/DriverDashboard - Main dashboard\n * - /(tasker)/AvailableJobsScreen - Browse available jobs\n * - /(tasker)/JobDetailScreen - View job details\n * - /(tasker)/DeliveryDetail - Active delivery details\n * - /(tasker)/DeliveryHistory - Past deliveries\n * - /(tasker)/EarningsScreen - View earnings\n * - /(shared)/WalletScreen - Wallet\n * - /(shared)/ProfileScreen - Profile\n * - /(shared)/EditProfileScreen - Edit profile\n *\n * VENDOR:\n * - /(vendor)/VendorDashboard - Main dashboard\n * - /(vendor)/ManageProductsScreen - Manage products\n * - /(vendor)/AddProductScreen - Add product\n * - /(vendor)/EditProductScreen - Edit product\n * - /(vendor)/AnalyticsScreen - View analytics\n * - /(vendor)/OrderHistory - View order history\n * - /(vendor)/OrderDetail - View order details\n * - /(shared)/ProfileScreen - Profile\n * - /(shared)/EditProfileScreen - Edit profile\n *\n * AUTH:\n * - /(auth)/SplashScreen - Initial splash\n * - /(auth)/PhoneLogin - Phone login\n * - /(auth)/OtpVerification - OTP verification\n * - /(auth)/RoleSelection - Role selection\n * - /(auth)/DriverOnboarding - Driver KYC\n */\n
